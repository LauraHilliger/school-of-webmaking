language: ruby
rvm:
- 2.1.0
branches:
  only:
  - gh-pages
install: bundle install
script: bundle exec jekyll build
after_success:
- if [[ "$TRAVIS_PULL_REQUEST" != "false" ]]; then echo "Deployments are only done for branches. "; exit 0; fi
- if [[ "$TRAVIS_BRANCH" != "gh-pages" ]]; then echo "Deployments are only done for the gh-pages branch. "; exit 0; fi
- echo "Deploying commit $TRAVIS_COMMIT"
- bundle exec s3_website push --headless
env:
  global:
  #- secure: encrypt AWS_ACCESS_KEY
  #- secure: encrypt AWS_SECRET_KEY
